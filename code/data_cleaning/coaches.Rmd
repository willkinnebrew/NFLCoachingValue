---
title: "R Notebook"
output: html_notebook
---

```{r}
library(tidyverse)
library(rvest)
```

```{r}
# https://www.pro-football-reference.com/teams/crd/coaches.htm
nfl_to_pfr <- c(
  ARI = "CRD",
  ATL = "ATL",
  BAL = "RAV",
  BUF = "BUF",
  CAR = "CAR",
  CHI = "CHI",
  CIN = "CIN",
  CLE = "CLE",
  DAL = "DAL",
  DEN = "DEN",
  DET = "DET",
  GB  = "GNB",
  HOU = "HTX",
  IND = "CLT",
  JAX = "JAX",
  KC  = "KAN",
  LAC = "SDG",
  LAR = "LAR",
  LV  = "RAM",
  MIA = "MIA",
  MIN = "MIN",
  NE  = "NWE",
  NO  = "NOR",
  NYG = "NYG",
  NYJ = "NYJ",
  PHI = "PHI",
  PIT = "PIT",
  SEA = "SEA",
  SF  = "SFO",
  TB  = "TAM",
  TEN = "OTI",
  WSH = "WAS"
)

# Example usage:
nfl_to_pfr["GB"]   # returns "GNB"
nfl_to_pfr["NE"]   # returns "NWE"

```

```{r}
#read data from the url

cardinals <- read_html('https://www.pro-football-reference.com/teams/crd/coaches.htm') %>%
  html_node('table#coaches_year') %>%
  html_table(fill = TRUE)

# scrape table headers
cardinals_header <- read_html('https://www.pro-football-reference.com/teams/crd/coaches.htm')  %>% 
  html_nodes('table#coaches_year thead tr th') %>% #note this time we are scraping the 'th' part, which contains table header
  html_text()

cardinals_header <- cardinals_header[-(1:4)]

#convert a vector to a data frame
cardinals <- data.frame(matrix(cardinals,ncol=length(cardinals_header),byrow=T),stringsAsFactors = F)
# add table header
colnames(cardinals)<- cardinals_header[1:length(cardinals_header)]


# display dataset
head(cardinals, 10)
```

